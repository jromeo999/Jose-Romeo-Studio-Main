:root {
    --bg-body: #F4F4F5;
    --surface: #FFFFFF;
    --primary: #18181B;
    --primary-hover: #27272A;
    --accent: #2563EB;
    --success: #10B981;
    --danger: #EF4444;
    --warning: #F59E0B;
    
    --text-main: #18181B;
    --text-secondary: #71717A;

    --radius-lg: 16px;
    --radius-md: 10px;
    --sidebar-width: 280px;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    font-family: 'Inter', sans-serif;
    background-color: var(--bg-body);
    color: var(--text-main);
    margin: 0;
    line-height: 1.5;
}

/* --- DROPDOWN DESIGN (NEW) --- */
.custom-select-wrapper {
    position: relative;
    display: inline-block;
}

.custom-select-wrapper::after {
    content: "▼";
    font-size: 0.7rem;
    color: var(--text-secondary);
    position: absolute;
    right: 14px;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
}

select {
    appearance: none;
    -webkit-appearance: none;
    background-color: white;
    border: 1px solid #E4E4E7;
    border-radius: 12px;
    padding: 10px 36px 10px 14px;
    font-family: 'Inter', sans-serif;
    font-size: 0.9rem;
    color: var(--text-main);
    cursor: pointer;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    transition: all 0.2s;
    min-width: 140px;
}

select:hover { border-color: #D4D4D8; }
select:focus { border-color: var(--primary); outline: none; }

/* --- LAYOUT WRAPPER --- */
.layout-wrapper { display: flex; flex-direction: column; min-height: 100vh; }

/* --- SIDEBAR & PROFILE --- */
.sidebar {
    background: var(--surface);
    border-bottom: 1px solid rgba(0,0,0,0.05);
    padding: 20px;
    position: sticky;
    top: 0;
    z-index: 100;
}

.sidebar-top {
    display: flex; flex-direction: column;
    width: 100%; max-width: 1400px; margin: 0 auto;
}

.brand { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; width: 100%; }
.brand h1 { font-family: 'Outfit', sans-serif; font-size: 1.2rem; font-weight: 800; color: var(--primary); margin: 0; }
.datetime { font-size: 0.75rem; color: var(--text-secondary); background: #F4F4F5; padding: 4px 8px; border-radius: 6px; }

/* Auth */
.auth-bar { width: 100%; }
.input-wrapper { display: flex; background: #F4F4F5; border-radius: 12px; padding: 4px; width: 100%; transition: 0.2s; }
.input-wrapper input { background: transparent; border: none; padding: 10px; font-size: 0.9rem; width: 100%; outline: none; }
.icon-btn { padding: 8px 14px; background: var(--primary); color: white; border-radius: 8px; border: none; cursor: pointer; }
.ghost-icon-btn { background: transparent; border: 1px solid #E4E4E7; color: var(--text-secondary); padding: 8px 12px; border-radius: 8px; font-size: 0.8rem; cursor: pointer; }
.ghost-icon-btn.small { flex: 1; text-align: center; }
.ghost-icon-btn:hover { background: #FAFAFA; color: var(--primary); border-color: var(--primary); }

/* Sidebar Profile Section (New) */
.profile-section { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #F4F4F5; }
.profile-img-wrapper { 
    width: 56px; height: 56px; border-radius: 50%; overflow: hidden; 
    background: #F4F4F5; position: relative; cursor: pointer; flex-shrink: 0;
}
.profile-img-wrapper img { width: 100%; height: 100%; object-fit: cover; }
.edit-overlay { 
    position: absolute; inset: 0; background: rgba(0,0,0,0.5); color: white; 
    display: flex; align-items: center; justify-content: center; opacity: 0; transition: 0.2s; font-size: 1.2rem;
}
.profile-img-wrapper:hover .edit-overlay { opacity: 1; }

.profile-info { flex: 1; overflow: hidden; }
.user-name { font-weight: 700; font-size: 0.95rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.user-acc { font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 4px; }
.code-pill { display: inline-block; background: #EEF2FF; color: var(--accent); font-size: 0.75rem; font-weight: 700; padding: 2px 8px; border-radius: 4px; }

.action-menu { display: flex; flex-direction: column; gap: 6px; }
.menu-btn { 
    text-align: left; background: transparent; padding: 10px; 
    color: var(--text-secondary); width: 100%; border-radius: 8px; border: none; cursor: pointer; font-weight: 500; font-size: 0.9rem;
    display: flex; align-items: center; gap: 10px;
}
.menu-btn:hover { background: #F4F4F5; color: var(--primary); }
.danger-text { color: var(--danger); }

/* --- MAIN CONTENT & SPLIT VIEW --- */
.main-content { flex: 1; padding: 20px; width: 100%; max-width: 1600px; margin: 0 auto; }

/* Split View Container */
.split-view-container {
    display: flex;
    flex-direction: column;
    gap: 0;
    border-radius: 20px;
    overflow: hidden;
    border: 1px solid #E4E4E7;
}

.split-panel { padding: 20px; }
.today-panel { background: #FFFFFF; } /* White for today */
.preorder-panel { background: #FAFAFA; } /* Slight grey for pre-order */

.split-separator { height: 1px; background: #E4E4E7; width: 100%; }

.panel-header { display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
.panel-header h3 { margin: 0; font-size: 1.1rem; color: var(--primary); }
.live-tag { background: #DCFCE7; color: #166534; font-size: 0.7rem; font-weight: 700; padding: 2px 8px; border-radius: 10px; text-transform: uppercase; }
.future-tag { background: #DBEAFE; color: #1E40AF; font-size: 0.7rem; font-weight: 700; padding: 2px 8px; border-radius: 10px; text-transform: uppercase; }

/* Card Grid */
.card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 16px; align-items: start; }

.vendor-card {
    background: white; border-radius: 16px; 
    box-shadow: 0 2px 8px rgba(0,0,0,0.03); border: 1px solid rgba(0,0,0,0.04);
    display: flex; flex-direction: column; overflow: hidden;
}
.vendor-card.flat { box-shadow: none; border: 1px solid #E4E4E7; }

/* Card Internals */
.card-header { padding: 12px; background: #F9FAFB; border-bottom: 1px solid #F3F4F6; }
.shop-name { font-weight: 700; font-size: 0.9rem; }
.shop-meta { font-size: 0.75rem; color: var(--text-secondary); }

.product-item { display: flex; align-items: center; padding: 12px; border-bottom: 1px solid #F4F4F5; }
.product-item:last-child { border-bottom: none; }
.product-img { width: 44px; height: 44px; border-radius: 8px; object-fit: cover; background: #eee; cursor: pointer; }
.product-details { flex: 1; margin-left: 10px; }
.product-name { font-weight: 600; font-size: 0.85rem; line-height: 1.2; }
.product-price { font-size: 0.75rem; color: var(--text-secondary); }

.qty-controls { background: #F4F4F5; border-radius: 12px; display: flex; align-items: center; padding: 2px; }
.qty-btn { width: 26px; height: 26px; border-radius: 50%; background: white; border: 1px solid #E4E4E7; color: var(--primary); font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; }
.qty-val { width: 22px; text-align: center; font-size: 0.8rem; font-weight: 600; }

.card-footer { padding: 12px; background: #F9FAFB; border-top: 1px solid #F3F4F6; }
.total-display { display: flex; justify-content: space-between; font-weight: 700; margin-bottom: 10px; font-size: 0.9rem; }
.payment-options { display: flex; gap: 6px; margin-bottom: 10px; }
.pay-btn { flex: 1; padding: 6px; font-size: 0.75rem; border: 1px solid #E4E4E7; background: white; border-radius: 6px; cursor: pointer; }
.pay-btn.selected { background: var(--primary); color: white; border-color: var(--primary); }
.submit-btn { width: 100%; padding: 10px; background: var(--primary); color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; font-size: 0.9rem;}

/* --- DASHBOARD & HISTORY --- */
.dashboard-3-col { display: flex; flex-direction: column; gap: 20px; }
.panel { flex: 1; display: flex; flex-direction: column; }
.full-height { flex: 1; display: flex; flex-direction: column; min-height: 400px; }
.scrollable-y { overflow-y: auto; flex: 1; padding: 0; max-height: 600px; }
.section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
.add-btn { background: var(--primary); color: white; border: none; padding: 6px 12px; border-radius: 8px; cursor: pointer; font-size: 0.85rem;}
.finish-btn { background: white; border: 1px solid var(--danger); color: var(--danger); padding: 6px 12px; border-radius: 8px; font-weight: 600; cursor: pointer; }
.save-config-btn { width: 100%; padding: 12px; margin-top: 10px; border-radius: 10px; border: 1px solid #e4e4e7; background: white; cursor: pointer; }

/* History Table */
.filter-row { display: flex; gap: 12px; margin-bottom: 20px; align-items: center; flex-wrap: wrap; }
.total-badge { margin-left: auto; background: var(--primary); color: white; padding: 8px 16px; border-radius: 8px; font-weight: 700; font-size: 0.9rem; }

.sales-table { width: 100%; border-collapse: separate; border-spacing: 0; font-size: 0.85rem; }
.sales-table th { text-align: left; padding: 12px 16px; border-bottom: 2px solid #F4F4F5; color: var(--text-secondary); font-weight: 600; text-transform: uppercase; }
.sales-table td { padding: 14px 16px; border-bottom: 1px solid #F4F4F5; color: var(--text-main); }
.sales-table tr:last-child td { border-bottom: none; }
.status-pill { padding: 4px 8px; border-radius: 6px; font-size: 0.7rem; font-weight: 700; text-transform: uppercase; }
.status-unpaid { background: #FEF2F2; color: var(--danger); }
.status-paid { background: #DCFCE7; color: #166534; }
.text-right { text-align: right; }

/* --- MODALS --- */
.hidden { display: none !important; }
.modal { position: fixed; inset: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(4px); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 20px; }
.modal-card { background: white; width: 100%; max-width: 360px; border-radius: 20px; padding: 24px; position: relative; }
.close-icon { position: absolute; right: 20px; top: 20px; cursor: pointer; font-size: 1.5rem; color: #999; }
.input-group { margin-bottom: 16px; }
.input-group label { display: block; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; color: var(--text-secondary); margin-bottom: 6px; }
.input-group input { width: 100%; background: #FAFAFA; border: 1px solid #E4E4E7; padding: 12px; border-radius: 10px; outline: none; }
.modal-actions { margin-top: 20px; }
.primary { background: var(--primary); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; width: 100%; }
.full-width { width: 100%; }

/* --- RESPONSIVE DESKTOP --- */
@media (min-width: 1024px) {
    .layout-wrapper { flex-direction: row; }
    .sidebar { width: var(--sidebar-width); height: 100vh; border-right: 1px solid #F0F0F0; border-bottom: none; display: flex; flex-direction: column; }
    .sidebar-top { height: 100%; margin: 0; }
    .auth-container { margin-top: 20px; }
    .auth-bar#loginSection { flex-direction: column; }
    .main-content { height: 100vh; overflow-y: auto; padding: 40px; }

    /* Split View Desktop */
    .split-view-container { flex-direction: row; height: calc(100vh - 80px); }
    .split-panel { flex: 1; overflow-y: auto; }
    .split-separator { width: 1px; height: 100%; background: #E4E4E7; }
    
    .dashboard-3-col { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 30px; height: calc(100vh - 80px); }
    .panel { height: 100%; }
}
@media (max-width: 1023px) { .mobile-hide { display: none; } }
/* --- HISTORY TOGGLE (For Vendors) --- */
.toggle-pill-container {
    background: #F4F4F5;
    padding: 4px;
    border-radius: 10px;
    display: flex;
    gap: 4px;
}
.toggle-btn {
    border: none;
    background: transparent;
    padding: 6px 12px;
    border-radius: 8px;
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--text-secondary);
    cursor: pointer;
    transition: 0.2s;
}
.toggle-btn.active {
    background: white;
    color: var(--primary);
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}
.sidebar {
    /* Pure Black to Dark Gray Gradient */
    background: linear-gradient(180deg, #000000 0%, #111111 100%);
    color: #FFFFFF;
    border-right: 1px solid #27272A; /* Subtle border */
    padding: 24px;
    position: sticky;
    top: 0;
    z-index: 100;
}

/* Brand Text */
.brand h1 {
    color: #FFFFFF;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* Sidebar Input (Login) - Dark Mode Style */
/* IMPORTANT: Scoped with .sidebar to not break modals */
.sidebar .input-wrapper {
    background: #18181B; /* Dark Grey */
    border: 1px solid #333333;
    border-radius: 8px;
    color: white;
}
.sidebar .input-wrapper input {
    color: white;
}
.sidebar .input-wrapper input::placeholder {
    color: #71717A;
}

/* Profile Section */
.profile-section {
    border-bottom: 1px solid #27272A;
}
.profile-img-wrapper {
    background: #18181B;
    border: 1px solid #333;
}
.user-name { color: #FFFFFF; }
.user-acc { color: #A1A1AA; } /* Light Gray */

/* Sidebar Buttons (Solid, High Contrast) */
.ghost-icon-btn {
    background: #18181B; /* Dark background */
    border: 1px solid #333;
    color: #FFFFFF !important;
    font-weight: 500;
}
.ghost-icon-btn:hover {
    background: #FFFFFF;
    color: #000000 !important;
    border-color: #FFFFFF;
}

/* Menu Links */
.menu-btn {
    color: #A1A1AA;
}
.menu-btn:hover {
    background: #18181B;
    color: #FFFFFF;
}
.icon-back-btn {
    background: white;
    border: 1px solid #E4E4E7;
    padding: 8px 16px;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--text-main);
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0,0,0,0.03);
    transition: all 0.2s ease;
}

/* Add an SVG arrow automatically if your HTML text is just "Back" */
.icon-back-btn::before {
    content: "←";
    font-weight: 800;
    font-family: monospace;
    font-size: 1.1em;
}

.icon-back-btn:hover {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transform: translateY(-1px);
}
